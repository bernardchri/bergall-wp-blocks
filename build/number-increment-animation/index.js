(()=>{"use strict";var e,t={33:(e,t,a)=>{const n=window.wp.blocks,r=window.wp.blockEditor,l=window.wp.components;var o=a(386);const s=window.React,i=window.ReactJSXRuntime,u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"animablocks/number-increment-animation","description":"animation d\'un texte à l\'arrivée dans la vue ","title":"Animation d\'un nombre","category":"anima","icon":"chart-line","supports":{"color":{"gradients":true,"text":true},"spacing":{"padding":true,"margin":true},"typography":{"fontSize":true,"lineHeight":true}},"attributes":{"startChar":{"type":"string","default":""},"endChar":{"type":"string","default":""},"startNumber":{"type":"number","default":0},"endNumber":{"type":"number","default":100},"delay":{"type":"number","default":0},"increment":{"type":"number","default":1},"speed":{"type":"number","default":2},"locale":{"type":"string","default":"en-US"}},"editorScript":"file:./index.js","viewScript":"file:./view.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,n.registerBlockType)(u.name,{...u,edit:function({attributes:e,setAttributes:t}){const{startChar:a,endChar:n,startNumber:u,endNumber:c,delay:d,increment:m,speed:b,locale:p}=e,h=(0,s.useRef)(null),N=(0,r.useBlockProps)();return(0,s.useEffect)(()=>{},[e]),(0,i.jsxs)("div",{...N,children:[(0,i.jsxs)(r.InspectorControls,{children:[(0,i.jsx)(l.PanelBody,{title:"Animation Controls",children:(0,i.jsx)(l.Button,{isPrimary:!0,className:"number-animation-play-button",type:"button",onClick:()=>(0,o.o)({block:h.current,currentNumber:isNaN(u)||null===u?0:u,startChar:a,endChar:n,startNumber:isNaN(u)||null===u?0:u,endNumber:isNaN(c)||null===c?0:c,delay:isNaN(d)||null===d?0:d,increment:isNaN(m)||null===m?0:m,speed:isNaN(b)||null===b?0:b,locale:p}),children:"Lire"})}),(0,i.jsxs)(l.PanelBody,{title:"Animation Settings",children:[(0,i.jsx)(l.TextControl,{label:"Start Character",value:a,onChange:e=>t({startChar:isNaN("")?0:e})}),(0,i.jsx)(l.TextControl,{label:"End Character",value:n,onChange:e=>t({endChar:e})}),(0,i.jsx)(l.TextControl,{label:"Start Number",value:isNaN(u)||null===u?0:u,onChange:e=>t({startNumber:isNaN(parseFloat(e))||null===e?0:parseFloat(e)}),type:"number"}),(0,i.jsx)(l.TextControl,{label:"End Number",value:isNaN(c)||null===c?0:c,onChange:e=>t({endNumber:isNaN(parseFloat(e))||null===e?0:parseFloat(e)}),type:"number"}),(0,i.jsx)(l.RangeControl,{label:"Delay (ms)",value:isNaN(d)||null==d?0:d,onChange:e=>t({delay:isNaN(e)||null===e?0:e}),min:0,step:125,max:5e3}),(0,i.jsx)(l.RangeControl,{label:"Increment",value:isNaN(m)||null===m?0:m,onChange:e=>t({increment:isNaN(e)||null===e?0:e}),min:1,max:1e3,step:1}),(0,i.jsx)(l.RangeControl,{label:"Duree (s)",value:isNaN(b)||null===b?0:b,onChange:e=>t({speed:isNaN(e)||null===e?0:e}),step:.15,min:.15,max:10}),(0,i.jsx)(l.SelectControl,{label:"Locale",value:p,options:[{label:"English (US)",value:"en-US"},{label:"French (FR)",value:"fr-FR"}],onChange:e=>t({locale:e})})]})]}),(0,i.jsxs)("div",{className:"number-animation-block",ref:h,children:[a||"",c.toLocaleString(p),n||""]})]})},save:function({attributes:e}){const{startChar:t,endChar:a,startNumber:n,endNumber:l,delay:o,increment:s,speed:u,locale:c}=e,d=r.useBlockProps.save();return(0,i.jsx)("div",{...d,children:(0,i.jsxs)("div",{className:"number-animation-block","data-start-char":t,"data-end-char":a,"data-start-number":n,"data-end-number":l,"data-delay":o,"data-increment":s,"data-speed":u,"data-locale":c,children:[t,n.toLocaleString(c),a]})})}})},386:(e,t,a)=>{a.d(t,{o:()=>n}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".wp-block-animablocks-number-increment-animation > .number-animation-block"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const a=e.target,r=a.getAttribute("data-start-char")||"",l=a.getAttribute("data-end-char")||"",o=parseFloat(a.getAttribute("data-start-number"))||0,s=parseFloat(a.getAttribute("data-end-number"))||100,i=parseInt(a.getAttribute("data-delay"),10)||0,u=parseFloat(a.getAttribute("data-speed"))||1,c=a.getAttribute("data-locale")||"en-US";n({block:a,startChar:r,endChar:l,startNumber:o,endNumber:s,delay:i,speed:u,locale:c,currentNumber:o}),t.unobserve(a)}})});e.forEach(e=>t.observe(e))});const n=function({block:e,startChar:t,endChar:a,startNumber:n,endNumber:r,delay:l,speed:o,locale:s,currentNumber:i}){setTimeout(()=>{const l=performance.now(),u=()=>{const c=performance.now()-l;if(c<1e3*o){i=n+(r-n)*((d=c/(1e3*o))*(2-d));const l=Math.round(i);e.textContent=`${t}${l.toLocaleString(s)}${a}`,requestAnimationFrame(u)}else e.textContent=`${t}${r.toLocaleString(s)}${a}`;var d};requestAnimationFrame(u)},l)}}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,a,r,l)=>{if(!a){var o=1/0;for(c=0;c<e.length;c++){for(var[a,r,l]=e[c],s=!0,i=0;i<a.length;i++)(!1&l||o>=l)&&Object.keys(n.O).every(e=>n.O[e](a[i]))?a.splice(i--,1):(s=!1,l<o&&(o=l));if(s){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,r,l]},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={551:0,760:0,256:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,l,[o,s,i]=a,u=0;if(o.some(t=>0!==e[t])){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(i)var c=i(n)}for(t&&t(a);u<o.length;u++)l=o[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},a=globalThis.webpackChunktest=globalThis.webpackChunktest||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[256],()=>n(33));r=n.O(r)})();